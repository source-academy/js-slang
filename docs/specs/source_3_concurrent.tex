\input source_header.tex

\begin{document}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\docheader{2021}{Source}{\S 3 Concurrent}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input source_intro.tex

Source \S 3 Concurrent is a concurrent extension of Source \S 3.

\section*{Changes}

Compared to Source \S 3, Source \S 3 Concurrent has the following changes:
\begin{itemize}
\item Concurrency support functions are added, see Section~\textbf{Concurrency Support} on page \pageref{conc_supp}.
\item The given program starts in a thread that runs concurrently with any
  threads that are created during the execution of the program.
\item Neither the thread of the give program nor any other threads produce
  any values as results. Their effect is observable through \emph{side effects}
  such as calls of the \lstinline{display} primitive.
\end{itemize}
\noindent
The concurrency of Source \S 3 Concurrent is thread-based and deviates
from the event-driven concurrency of  
\href{http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf}{\color{DarkBlue}
  ECMAScript 2018 ($9^{\textrm{th}}$ Edition)}. Source \S 3 Concurrent is
motivated by Section 3.4 of the textbook
\href{https://sicp.comp.nus.edu.sg}{\color{DarkBlue}\emph{Structure and Interpretation
of Computer Programs}, JavaScript Adaptation}.

\section*{Concurrency}

We specify \emph{interleaving semantics} for Source \S 3 Concurrent.
The effect of executing a concurrent program
should be explainable as a single sequence of atomic actions. Each thread
specifies its own sequence as a total order among its actions,
and the implementation is free to interleave the sequences of the threads
as long as the following conditions are met:
\begin{enumerate}
\item The order of actions within each thread is respected (sequential
  threads).
\item Any action that is included in any thread's sequence of actions will
  eventually be executed (no starvation).
\end{enumerate}
\noindent
The atomic actions are primitive steps such as accessing the value of a name,
accessing a data structure, reducing a conditional expression or statement,
carrying out a primitive operation or calling a function.

\input source_bnf.tex

\newpage

\input source_3_bnf.tex

\newpage

\input source_boolean_operators

\input source_loops

\input source_return_3

\input source_names

\input source_concurrency

\input source_lists

\input source_pair_mutators

\input source_array_support

\input source_streams

\input source_numbers

\input source_strings

\input source_arrays

\input source_typing_3

\input source_comments

\input source_js_differences

\newpage

\input source_list_library

\newpage

\input source_stream_library

    \end{document}
